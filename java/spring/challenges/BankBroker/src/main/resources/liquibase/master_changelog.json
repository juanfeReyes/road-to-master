{ "databaseChangeLog": [
  {
    "changeSet": {
      "id": "1684073460273-1",
      "author": "liquibase (generated)",
      "changes": [
        {
          "createTable": {
            "columns": [
              {
                "column": {
                  "constraints": {
                    "nullable": false,
                    "primaryKey": true,
                    "primaryKeyName": "account_table_pkey"
                  },
                  "name": "id",
                  "type": "UUID"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "balance",
                  "type": "FLOAT8"
                }
              },
              {
                "column": {
                  "name": "fk_user_id",
                  "type": "UUID"
                }
              }]
            ,
            "tableName": "account_table"
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-2",
      "author": "liquibase (generated)",
      "changes": [
        {
          "createTable": {
            "columns": [
              {
                "column": {
                  "constraints": {
                    "nullable": false,
                    "primaryKey": true,
                    "primaryKeyName": "bank_table_pkey"
                  },
                  "name": "id",
                  "type": "UUID"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "name",
                  "type": "VARCHAR(255)"
                }
              }]
            ,
            "tableName": "bank_table"
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-3",
      "author": "liquibase (generated)",
      "changes": [
        {
          "createTable": {
            "columns": [
              {
                "column": {
                  "constraints": {
                    "nullable": false,
                    "primaryKey": true,
                    "primaryKeyName": "transactions_table_pkey"
                  },
                  "name": "id",
                  "type": "UUID"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "amount",
                  "type": "FLOAT8"
                }
              },
              {
                "column": {
                  "name": "transaction_state",
                  "type": "VARCHAR(255)"
                }
              },
              {
                "column": {
                  "name": "fk_account_destination",
                  "type": "UUID"
                }
              },
              {
                "column": {
                  "name": "fk_account_origin",
                  "type": "UUID"
                }
              }]
            ,
            "tableName": "transactions_table"
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-4",
      "author": "liquibase (generated)",
      "changes": [
        {
          "createTable": {
            "columns": [
              {
                "column": {
                  "constraints": {
                    "nullable": false,
                    "primaryKey": true,
                    "primaryKeyName": "user_table_pkey"
                  },
                  "name": "id",
                  "type": "UUID"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "email",
                  "type": "VARCHAR(255)"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "last_name",
                  "type": "VARCHAR(255)"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "name",
                  "type": "VARCHAR(255)"
                }
              },
              {
                "column": {
                  "constraints": {
                    "nullable": false
                  },
                  "name": "phone",
                  "type": "VARCHAR(255)"
                }
              },
              {
                "column": {
                  "name": "fk_bank_id",
                  "type": "UUID"
                }
              }]
            ,
            "tableName": "user_table"
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-5",
      "author": "liquibase (generated)",
      "changes": [
        {
          "addForeignKeyConstraint": {
            "baseColumnNames": "fk_account_origin",
            "baseTableName": "transactions_table",
            "constraintName": "fk1s1fwia3p2tdhmnwi16k00bxm",
            "deferrable": false,
            "initiallyDeferred": false,
            "onDelete": "NO ACTION",
            "onUpdate": "NO ACTION",
            "referencedColumnNames": "id",
            "referencedTableName": "account_table",
            "validate": true
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-6",
      "author": "liquibase (generated)",
      "changes": [
        {
          "addForeignKeyConstraint": {
            "baseColumnNames": "fk_bank_id",
            "baseTableName": "user_table",
            "constraintName": "fkgly4kfqs7truupn200pdx5s21",
            "deferrable": false,
            "initiallyDeferred": false,
            "onDelete": "NO ACTION",
            "onUpdate": "NO ACTION",
            "referencedColumnNames": "id",
            "referencedTableName": "bank_table",
            "validate": true
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-7",
      "author": "liquibase (generated)",
      "changes": [
        {
          "addForeignKeyConstraint": {
            "baseColumnNames": "fk_user_id",
            "baseTableName": "account_table",
            "constraintName": "fkhn8gbfuevn57d0pf7iq253us",
            "deferrable": false,
            "initiallyDeferred": false,
            "onDelete": "NO ACTION",
            "onUpdate": "NO ACTION",
            "referencedColumnNames": "id",
            "referencedTableName": "user_table",
            "validate": true
          }
        }]
      
    }
  },
  
  {
    "changeSet": {
      "id": "1684073460273-8",
      "author": "liquibase (generated)",
      "changes": [
        {
          "addForeignKeyConstraint": {
            "baseColumnNames": "fk_account_destination",
            "baseTableName": "transactions_table",
            "constraintName": "fkptnv7taqcxfja58hxnykjgmxr",
            "deferrable": false,
            "initiallyDeferred": false,
            "onDelete": "NO ACTION",
            "onUpdate": "NO ACTION",
            "referencedColumnNames": "id",
            "referencedTableName": "account_table",
            "validate": true
          }
        }]
      
    }
  }
  
]}